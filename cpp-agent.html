<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <meta charset="UTF-8">
        <title>C++ Agent - The Arcade Learning Environment</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The Arcade Learning Environment (ALE) -- a platform for AI research.">
        <meta name="author" content="Marlos C. Machado, Jesse Farebrother, Matthew Hausknecht, Marc G. Bellemare">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        
        <link rel="stylesheet" href="theme/book.css">
        

        
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="logo-container">
                <div id="logo">
                    <img src="static/ale.gif" style="height:50px;">
                </div>
                <div id="logo-text">
                    <a href="index.html">
                        <h1 class="bold">The Arcade Learning Environment </h1></a>
                </div>
            </div>
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="index.html"></a></li><li class="expanded "><a href="getting-started.html">Getting started</a></li><li><ol class="section"><li class="expanded "><a href="cpp-agent.html" class="active">C++ Agent</a></li><li class="expanded "><a href="python-agent.html">Python Agent</a></li></ol></li><li class="expanded "><a href="environment.html">Environment</a></li><li class="expanded "><a href="games.html">Games</a></li><li class="expanded "><a href="visualization.html">Visualization</a></li><li class="expanded "><a href="faq.html">FAQ</a></li><li class="spacer"></li><li class="expanded affix "><a href="citing.html">Citing</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">
            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/mgbellemare/Arcade-Learning-Environment" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#c-agent" id="c-agent">C++ Agent</a></h1>
<p>The shared library interface is the simplest way to implement a C++ agent for the Arcade Learning Environment (ALE).
This interface allows agents to directly access ALE via a class called
<code>ALEInterface</code>, defined in <code>ale_interface.hpp</code>. Example code detailing a simple random agent is provided under <code>examples/cpp-agent</code>.</p>
<p>To instantiate the Arcade Learning Environment it is enough to write:</p>
<pre><code class="language-cpp">ale::ALEInterface ale;
</code></pre>
<p>Once the environment is initialized, it is now possible to set its arguments. This is done with the 
functions <code>setBool()</code>, <code>setInt()</code>, <code>setFloat()</code>. The complete list of flags is available in <strong>TODO LINK TO  ARGS</strong>. For example, to set the environment’s seed we write:</p>
<pre><code class="language-cpp">ale.setInt(&quot;random_seed&quot;, 123);
</code></pre>
<p>Finally, after setting the desired environment parameters we now load the game ROM by providing its filename to the <code>loadROM</code> method:</p>
<pre><code class="language-cpp">ale.loadROM(&quot;asterix.bin&quot;);
</code></pre>
<p>There are two different action sets provided by ALE: the “legal” set and the “minimal”
set. Save for a few rare exceptions, the legal action set consists of all 18 actions for all games, including duplicates and actions with no effect. On the other hand, the minimal action set for a game contains only 
the actions that have some effect on that game. The <code>getLegalActionSet</code> and <code>getMinimalActionSet</code> methods provide the desired action sets:</p>
<pre><code class="language-cpp">ale::ActionVect legal_actions = ale.getLegalActionSet();
</code></pre>
<p>Taking an action is done by calling the function <code>act()</code> passing an object of <code>Action</code> as a parameter:</p>
<pre><code class="language-cpp">ale::Action a = legal_actions[rand() % legal_actions.size()];
float reward = ale.act(a);
</code></pre>
<p>Finally, one can check whether the episode has terminated using the function <code>ale.game_over()</code>. With these functions one can already implement a very simple agent that plays randomly for one episode:</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;ale_interface.hpp&gt;

int main(int argc, char** argv) {
    if (argc &lt; 2) {
        std::cerr &lt;&lt; &quot;Usage: &quot; &lt;&lt; argv[0] &lt;&lt; &quot; rom_file&quot; &lt;&lt; std::endl;
        return 1;
    }

    ale::ALEInterface ale;
    ale.setInt(&quot;random_seed&quot;, 123);
    ale.loadROM(argv[1]);

    ale::ActionVect legal_actions = ale.getLegalActionSet();

    float totalReward = 0.0;
    while (!ale.game_over()) {
        Action a = legal_actions[std::rand() % legal_actions.size()];    
        float reward = ale.act(a);
        totalReward += reward;

        std::cout &lt;&lt; &quot;The episode ended with score: &quot; &lt;&lt; totalReward 
            &lt;&lt; std::endl;
    }

    return 0;
}
</code></pre>
<p>Compilling with the shared library can be done by appending <code>-lale</code> or by using <code>find_package(ale)</code> and linking to the cmake target <code>ale::ale-lib</code>. See <a href="https://github.com/mgbellemare/Arcade-Learning-Environment/tree/master/examples/cpp-agent">examples/cpp-agent</a> for a detailed example, including compilation. If any errors arise make sure to check out the <a href="./faq.html">FAQ</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        
                            <a rel="prev" href="getting-started.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="python-agent.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="getting-started.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="python-agent.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        

        

    </body>
</html>
